<h1>User <%= @user.id %>: <%= @user.first_name + " " + @user.last_name %></h1>

<article class="demo-info">
  <%= render partial: 'demographic_form', locals: { user: @user }%>
</article>


<article class="cc-info">
  <%= render partial: 'cc_form', locals: { user: @user } %>
</article>

<!-- need to create child objects with their foreign keys pre-filled in -->
<article class="admin-actions">
  <h2>Admin Actions for <%= @user.first_name + " " + @user.last_name %></h2>
  <%= form_for [:admin, @user] do |f|%>
  <%= f.submit "Create Order", class: "btn-lg btn-primary"  %><br>
  <%= f.submit "Create Address", class: "btn-lg btn-primary" %> <br>
  <% end %>
</article>


<article class="order-history">
  <h2>Order History</h2>
  <% @orders = Order.where(user_id: @user.id) %>
  <table>
    <thead>
      <th>ID</th>
      <th>Order Date</th>
      <th>Order Value</th>
      <th>Status</th>
      <th>SHOW</th>
      <th>EDIT</th>
      <th>DELETE</th>
    </thead>
    <tbody>
      <% @orders.each do |order| %>
      <tr>
        <td><%= order.id %></td>
        <td><%= order.created_at.strftime "%F" %></td>
        <td>$<%= order_value(order) %></td>
        <td><%= order.checkout_date.nil? ? "UNPLACED" : "PLACED" %></td>
        <td><%= link_to "SHOW", "#" %></td>
        <td><%= link_to "EDIT", "#" %></td>
        <td><%= link_to "DELETE", "#" %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
</article>
